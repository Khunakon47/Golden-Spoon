<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orders Management - Golden Spoon</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #2c3e50; 
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: linear-gradient(145deg, #2c3e50, #34495e);
            padding: 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .sidebar-header {
            padding: 30px 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .sidebar-logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
        }

        .sidebar h2 {
            color: #ecf0f1;
            font-size: 24px;
            font-weight: 700;
            margin: 0;
        }

        .sidebar-subtitle {
            color: #bdc3c7;
            font-size: 14px;
            margin-top: 5px;
        }

        .sidebar-nav {
            padding: 20px 0;
        }

        .sidebar a {
            display: flex;
            align-items: center;
            padding: 18px 25px;
            margin: 8px 15px;
            color: #ecf0f1;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 15px;
        }

        .sidebar a i {
            margin-right: 15px;
            font-size: 18px;
            width: 20px;
            text-align: center;
        }

        .sidebar a:hover:not(.active) {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
            color: #ff6b35;
        }

        .sidebar .active {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            padding: 40px 50px;
            min-height: 100vh;
        }

        .content-header {
            background: white;
            padding: 35px 40px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 107, 53, 0.1);
        }

        .page-title {
            color: #2c3e50;
            font-size: 36px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .page-title i {
            color: #ff6b35;
        }

        /* Stats Cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s ease;
            border: 1px solid #f1f3f4;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .stat-icon.pending {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .stat-icon.preparing {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .stat-icon.completed {
            background: linear-gradient(135deg, #27ae60, #229954);
        }

        .stat-info h3 {
            font-size: 32px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-info p {
            color: #7f8c8d;
            font-size: 14px;
            font-weight: 500;
        }

        /* Filter Section */
        .filter-section {
            background: white;
            padding: 25px 30px;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
            border: 1px solid #f1f3f4;
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .filter-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }

        .filter-grid {
            display: grid;
            grid-template-columns: 2fr repeat(4, 1fr);
            gap: 20px;
            align-items: end;
        }

        .filter-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-item label {
            font-weight: 500;
            color: #495057;
            font-size: 14px;
        }

        .filter-select {
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            color: #495057;
            cursor: pointer;
            height: 45px;
            transition: all 0.3s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: #ff6b35;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        .search-bar {
            display: flex;
            align-items: center;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            height: 45px;
            padding: 0 15px;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .search-bar:focus-within {
            border-color: #ff6b35;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        .search-bar input {
            border: none;
            padding: 0;
            font-size: 14px;
            flex: 1;
            background: transparent;
            color: #495057;
            height: 100%;
        }

        .search-bar input:focus {
            outline: none;
        }

        .search-icon {
            color: #6c757d;
            font-size: 16px;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: white;
            padding: 10px;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            text-align: center;
            background: transparent;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            color: #6c757d;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
        }

        .nav-tab:not(.active):hover {
            background: #f8f9fa;
            color: #495057;
        }

        /* Orders Grid */
        .orders-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .order-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid #f1f3f4;
            position: relative;
            display: flex;
            flex-direction: column;
            min-height: 400px;
        }

        .order-items {
            padding: 20px 25px;
            max-height: 250px;
            overflow-y: auto;
            flex: 1;
        }

        .order-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
        }

        .order-header {
            padding: 20px 20px 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .order-meta {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .order-number {
            font-size: 18px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 3px;
        }

        .order-time {
            font-size: 12px;
            color: #6c757d;
            font-weight: 500;
        }

        .order-table {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .status-pending {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .status-preparing {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .status-completed {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
        }

        .order-items {
            padding: 15px 20px;
            max-height: 200px;
            overflow-y: auto;
            flex: 1;
        }

        .order-items::-webkit-scrollbar {
            width: 6px;
        }

        .order-items::-webkit-scrollbar-thumb {
            background: #e9ecef;
            border-radius: 10px;
        }

        .order-items::-webkit-scrollbar-thumb:hover {
            background: #ced4da;
        }

        .item-row {
            display: flex;
            flex-direction: column;
            padding: 12px 0;
            border-bottom: 1px solid #f8f9fa;
        }

        .item-row:last-child {
            border-bottom: none;
        }

        .item-main {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .item-name {
            font-weight: 600;
            color: #2c3e50;
            flex: 1;
        }

        .item-quantity {
            background: #f8f9fa;
            color: #6c757d;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        .item-price {
            color: #27ae60;
            font-weight: 600;
            margin-left: 15px;
            min-width: 60px;
            text-align: right;
        }

        .item-note {
            margin-top: 8px;
            font-size: 12px;
            color: #856404;
            background: #fff3cd;
            padding: 6px 10px;
            border-radius: 4px;
            font-style: italic;
        }

        .order-footer {
            padding: 15px 20px;
            background: #fafbfc;
            border-top: 1px solid #f1f3f4;
        }

        .order-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 600;
        }

        .total-label {
            color: #6c757d;
        }

        .total-amount {
            color: #27ae60;
            font-size: 16px;
        }

        .order-actions {
            display: flex;
            gap: 8px;
        }

        .btn {
            padding: 8px 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            text-decoration: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #6c757d;
            border: 2px solid #e9ecef;
        }

        .btn-secondary:hover {
            background: #e9ecef;
            color: #495057;
        }

        .btn-success {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            flex: 1;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 184, 148, 0.4);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
            color: #7f8c8d;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .empty-state i {
            font-size: 64px;
            color: #bdc3c7;
            margin-bottom: 20px;
        }

        .empty-state h3 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .empty-state p {
            font-size: 16px;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(4px);
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            padding: 30px 30px 20px;
            border-bottom: 2px solid #f8f9fa;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            color: #2c3e50;
            font-size: 24px;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            color: #6c757d;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #f8f9fa;
            color: #495057;
        }

        .modal-body {
            padding: 30px;
        }

        .order-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .info-item label {
            font-weight: 600;
            color: #6c757d;
            font-size: 14px;
        }

        .info-item span {
            font-size: 16px;
            color: #2c3e50;
        }

        .modal-body h3 {
            color: #2c3e50;
            font-size: 18px;
            font-weight: 600;
            margin: 30px 0 15px;
        }

        .items-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .items-table th,
        .items-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #f1f3f4;
        }

        .items-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .items-table tfoot td {
            font-weight: 600;
            background: #f8f9fa;
        }

        .modal-item-note {
            font-size: 12px;
            color: #856404;
            background: #fff3cd;
            padding: 4px 8px;
            border-radius: 4px;
            margin-top: 4px;
            font-style: italic;
            display: block;
        }


        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
            z-index: 10001;
            transform: translateX(400px);
            transition: all 0.3s ease;
            border-left: 4px solid #007bff;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-success {
            border-left-color: #28a745;
        }

        .notification-warning {
            border-left-color: #ffc107;
        }

        .notification-content {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification-content i {
            color: #007bff;
        }

        .notification-success .notification-content i {
            color: #28a745;
        }

        .notification-warning .notification-content i {
            color: #ffc107;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .orders-container {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .main-content {
                margin-left: 0;
                padding: 20px;
            }
            
            .sidebar {
                transform: translateX(-100%);
            }
            
            .filter-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .orders-container {
                grid-template-columns: 1fr;
            }
        }

        /* Animation */
        .order-card {
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .order-actions {
            display: flex;
            gap: 10px;
        }

        .order-actions .ml-auto {
            margin-left: auto;
        }

        .order-items-count {
            font-size: 11px;
            color: #6c757d;
            font-weight: 500;
            margin-top: 2px;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <i class="fas fa-utensils"></i>
            </div>
            <h2>Golden Spoon</h2>
            <p class="sidebar-subtitle">Management System</p>
        </div>

        <nav class="sidebar-nav">
            <a href="dashboard.html" class="menu-link">
                <i class="fas fa-chart-pie"></i>
                <span>Dashboard</span>
            </a>
            
            <a href="orders_management.html" class="menu-link active">
                <i class="fas fa-clipboard-list"></i>
                <span>Orders Management</span>
            </a>

            <a href="menu_management.html" class="menu-link">
                <i class="fas fa-book-open"></i>
                <span>Menu Management</span>
            </a>

            <a href="menu_list.html" class="menu-link">
                <i class="fas fa-desktop"></i>
                <span>User Interface</span>
            </a>

            <a href="index.html" class="menu-link">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        </nav>
    </div>

    <div class="main-content">
        <div class="content-header">
            <h1 class="page-title">
                <i class="fas fa-clipboard-list"></i>
                Orders Management
            </h1>
            <div style="display: flex; gap: 15px; align-items: center;">
                <span style="color: #6c757d; font-size: 14px;">Last updated: <span id="lastUpdated">--:--</span></span>
                <button class="btn btn-secondary" onclick="refreshOrders()">
                    <i class="fas fa-sync-alt"></i>
                    Refresh
                </button>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon pending">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                    <h3 id="pendingCount">3</h3>
                    <p>Pending Orders</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon preparing">
                    <i class="fas fa-fire"></i>
                </div>
                <div class="stat-info">
                    <h3 id="preparingCount">2</h3>
                    <p>Preparing</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon completed">
                    <i class="fas fa-flag-checkered"></i>
                </div>
                <div class="stat-info">
                    <h3 id="completedCount">4</h3>
                    <p>Completed Today</p>
                </div>
            </div>
        </div>

        <!-- Filter Section -->
        <div class="filter-section">
            <div class="filter-header">
                <h3 class="filter-title">Filter & Search Orders</h3>
            </div>
            <div class="filter-grid">
                <div class="filter-item">
                    <label>Search Orders</label>
                    <div class="search-bar">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" placeholder="Search by order number, table..." id="searchInput">
                    </div>
                </div>
                <div class="filter-item">
                    <label>Status</label>
                    <select class="filter-select" id="statusFilter">
                        <option value="">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="preparing">Preparing</option>
                        <option value="completed">Completed</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>Table</label>
                    <select class="filter-select" id="tableFilter">
                        <option value="">All Tables</option>
                        <option value="1">Table 1</option>
                        <option value="2">Table 2</option>
                        <option value="3">Table 3</option>
                        <option value="5">Table 5</option>
                        <option value="8">Table 8</option>
                        <option value="12">Table 12</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>Time Range</label>
                    <select class="filter-select" id="timeFilter">
                        <option value="">All Time</option>
                        <option value="today">Today</option>
                        <option value="last-hour">Last Hour</option>
                        <option value="last-30min">Last 30 Minutes</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>Sort By</label>
                    <select class="filter-select" id="sortFilter">
                        <option value="newest">Newest First</option>
                        <option value="oldest">Oldest First</option>
                        <option value="table">Table Number</option>
                        <option value="total">Order Total</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" data-status="all">
                <i class="fas fa-list"></i>
                All Orders
            </button>
            <button class="nav-tab" data-status="pending">
                <i class="fas fa-clock"></i>
                Pending
            </button>
            <button class="nav-tab" data-status="preparing">
                <i class="fas fa-fire"></i>
                Preparing
            </button>
            <button class="nav-tab" data-status="completed">
                <i class="fas fa-flag-checkered"></i>
                Completed
            </button>
        </div>

        <!-- Orders Container -->
        <div class="orders-container" id="ordersContainer">
            <!-- Sample Orders will be loaded here by JavaScript -->
        </div>
    </div>

    <script>
        // Sample orders data with individual item notes
        const sampleOrders = [
            {
                id: "ORD-001",
                tableNumber: 5,
                time: "14:30",
                status: "preparing",
                items: [
                    { name: "Pad Thai", quantity: 2, price: 180, note: "Extra spicy, no peanuts" },
                    { name: "Tom Yum Soup", quantity: 1, price: 120, note: "Medium spice level" },
                    { name: "Green Curry", quantity: 1, price: 220, note: "" }
                ],
                total: 700,
                customerNotes: "Table requests extra napkins"
            },
            {
                id: "ORD-002",
                tableNumber: 3,
                time: "14:45",
                status: "pending",
                items: [
                    { name: "Massaman Curry", quantity: 1, price: 250, note: "No beef, use chicken instead" },
                    { name: "Fried Rice", quantity: 2, price: 150, note: "Extra vegetables, less oil" }
                ],
                total: 550,
                customerNotes: "Customer is vegetarian - double check ingredients"
            },
            {
                id: "ORD-003",
                tableNumber: 8,
                time: "15:00",
                status: "completed",
                items: [
                    { name: "Som Tam", quantity: 1, price: 95, note: "Thai style, not Lao style" },
                    { name: "Grilled Chicken", quantity: 1, price: 180, note: "Well done, extra crispy" },
                    { name: "Sticky Rice", quantity: 2, price: 60, note: "" },
                    { name: "Mango Sticky Rice", quantity: 1, price: 95, note: "Extra coconut milk" }
                ],
                total: 490,
                customerNotes: ""
            },
            {
                id: "ORD-004",
                tableNumber: 12,
                time: "15:15",
                status: "preparing",
                items: [
                    { name: "Pho Bo", quantity: 2, price: 200, note: "Extra rare beef, side of lime" },
                    { name: "Spring Rolls", quantity: 1, price: 75, note: "Fresh rolls, not fried" }
                ],
                total: 475,
                customerNotes: "Customer prefers less salt in broth"
            },
            {
                id: "ORD-005",
                tableNumber: 2,
                time: "13:45",
                status: "completed",
                items: [
                    { name: "Red Curry", quantity: 1, price: 220, note: "Mild spice, extra bamboo shoots" },
                    { name: "Jasmine Rice", quantity: 2, price: 60, note: "Steam well" }
                ],
                total: 340,
                customerNotes: ""
            },
            {
                id: "ORD-006",
                tableNumber: 1,
                time: "15:30",
                status: "pending",
                items: [
                    { name: "Thai Iced Tea", quantity: 3, price: 65, note: "Less sugar for 2 drinks" },
                    { name: "Chicken Satay", quantity: 2, price: 120, note: "Extra peanut sauce on side" }
                ],
                total: 435,
                customerNotes: "Birthday celebration - please add candle to satay"
            }
        ];

        // Status configuration (removed 'ready' status)
        const statusConfig = {
            pending: {
                label: "Pending",
                class: "status-pending",
                icon: "fas fa-clock",
                actions: ["start", "cancel", "view"]
            },
            preparing: {
                label: "Preparing",
                class: "status-preparing", 
                icon: "fas fa-fire",
                actions: ["complete", "cancel", "view"]
            },
            completed: {
                label: "Completed",
                class: "status-completed",
                icon: "fas fa-flag-checkered",
                actions: ["view"]
            }
        };

        let currentFilter = {
            status: "all",
            search: "",
            table: "",
            time: "",
            sort: "newest"
        };

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            renderOrders();
            updateStats();
            updateLastUpdated();
            setupEventListeners();
        });

        // Setup event listeners
        function setupEventListeners() {
            // Search input
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', function() {
                currentFilter.search = this.value.toLowerCase();
                renderOrders();
            });

            // Filter selects
            document.getElementById('statusFilter').addEventListener('change', function() {
                currentFilter.status = this.value || 'all';
                updateActiveTab();
                renderOrders();
            });

            document.getElementById('tableFilter').addEventListener('change', function() {
                currentFilter.table = this.value;
                renderOrders();
            });

            document.getElementById('timeFilter').addEventListener('change', function() {
                currentFilter.time = this.value;
                renderOrders();
            });

            document.getElementById('sortFilter').addEventListener('change', function() {
                currentFilter.sort = this.value;
                renderOrders();
            });

            // Navigation tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const status = this.dataset.status;
                    currentFilter.status = status;
                    
                    // Update active tab
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update status filter select
                    document.getElementById('statusFilter').value = status === 'all' ? '' : status;
                    
                    renderOrders();
                });
            });
        }

        // Update active tab based on status filter
        function updateActiveTab() {
            const status = currentFilter.status;
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.status === status) {
                    tab.classList.add('active');
                }
            });
        }

        // Render orders
        function renderOrders() {
            const container = document.getElementById('ordersContainer');
            const filteredOrders = filterOrders();
            
            if (filteredOrders.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-clipboard-list"></i>
                        <h3>No Orders Found</h3>
                        <p>No orders match your current filters</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = filteredOrders.map(order => createOrderCard(order)).join('');
        }

        // Filter orders based on current filters
        function filterOrders() {
            let filtered = [...sampleOrders];

            // Status filter
            if (currentFilter.status !== 'all') {
                filtered = filtered.filter(order => order.status === currentFilter.status);
            }

            // Search filter
            if (currentFilter.search) {
                filtered = filtered.filter(order => 
                    order.id.toLowerCase().includes(currentFilter.search) ||
                    order.tableNumber.toString().includes(currentFilter.search) ||
                    order.items.some(item => item.name.toLowerCase().includes(currentFilter.search))
                );
            }

            // Table filter
            if (currentFilter.table) {
                filtered = filtered.filter(order => order.tableNumber.toString() === currentFilter.table);
            }

            // Time filter (simplified - in real app would use actual timestamps)
            if (currentFilter.time === 'last-hour') {
                filtered = filtered.filter(order => {
                    const orderTime = parseInt(order.time.replace(':', ''));
                    const now = new Date();
                    const currentTime = now.getHours() * 100 + now.getMinutes();
                    return (currentTime - orderTime) <= 100;
                });
            }

            // Sort orders
            filtered.sort((a, b) => {
                switch (currentFilter.sort) {
                    case 'oldest':
                        return a.time.localeCompare(b.time);
                    case 'newest':
                        return b.time.localeCompare(a.time);
                    case 'table':
                        return a.tableNumber - b.tableNumber;
                    case 'total':
                        return b.total - a.total;
                    default:
                        return b.time.localeCompare(a.time);
                }
            });

            return filtered;
        }

        // Create order card HTML
        function createOrderCard(order) {
            const config = statusConfig[order.status];
            const itemsHtml = order.items.map(item => `
                <div class="item-row">
                    <div class="item-main">
                        <span class="item-name">${item.name}</span>
                        <span class="item-quantity">x${item.quantity}</span>
                        <span class="item-price">฿${item.price}</span>
                    </div>
                    ${item.note ? `<div class="item-note">Note: ${item.note}</div>` : ''}
                </div>
            `).join('');

            const actionsHtml = getOrderActions(order);

            return `
                <div class="order-card" data-id="${order.id}" data-status="${order.status}">
                    <div class="order-header">
                        <div class="order-meta">
                            <div>
                                <div class="order-number">${order.id}</div>
                                <div class="order-time">${order.time}</div>
                                <div class="order-items-count">${getTotalItems(order)} items</div>
                            </div>
                            <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 10px;">
                                <div class="order-table">
                                    <i class="fas fa-chair"></i>
                                    Table ${order.tableNumber}
                                </div>
                                <div class="status-badge ${config.class}">
                                    <i class="${config.icon}"></i>
                                    ${config.label}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="order-items">
                        ${itemsHtml}
                    </div>

                    <div class="order-footer">
                        <div class="order-total">
                            <span class="total-label">Total Amount</span>
                            <span class="total-amount">฿${order.total}</span>
                        </div>
                        <div class="order-actions">
                            ${actionsHtml}
                        </div>
                    </div>
                </div>
            `;
        }

        // Get order actions based on status
        function getOrderActions(order) {
            const actions = statusConfig[order.status].actions;
            let html = '';

            actions.forEach(action => {
                switch (action) {
                    case 'start':
                        html += `<button class="btn btn-primary" onclick="updateOrderStatus('${order.id}', 'preparing')">
                            <i class="fas fa-play"></i> Start
                        </button>`;
                        break;
                    case 'complete':
                        html += `<button class="btn btn-success" onclick="updateOrderStatus('${order.id}', 'completed')">
                            <i class="fas fa-check"></i> Complete
                        </button>`;
                        break;
                    case 'cancel':
                        html += `<button class="btn btn-secondary" onclick="cancelOrder('${order.id}')">
                            <i class="fas fa-times"></i> Cancel
                        </button>`;
                        break;
                    case 'view':
                        const isCompleted = order.status === 'completed';
                        html += `<button class="btn btn-secondary ${isCompleted ? 'ml-auto' : ''}" onclick="viewOrderDetails('${order.id}')">
                            <i class="fas fa-eye"></i> View Detail
                        </button>`;
                        break;
                }
            });

            return html;
        }

        // Update order status
        function updateOrderStatus(orderId, newStatus) {
            const order = sampleOrders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                renderOrders();
                updateStats();
                
                // Show success message
                showNotification(`Order ${orderId} status updated to ${statusConfig[newStatus].label}`, 'success');
            }
        }

        // Cancel order
        function cancelOrder(orderId) {
            if (confirm(`Are you sure you want to cancel order ${orderId}?`)) {
                const orderIndex = sampleOrders.findIndex(o => o.id === orderId);
                if (orderIndex > -1) {
                    sampleOrders.splice(orderIndex, 1);
                    renderOrders();
                    updateStats();
                    showNotification(`Order ${orderId} has been cancelled`, 'warning');
                }
            }
        }

        // View order details
        function viewOrderDetails(orderId) {
            const order = sampleOrders.find(o => o.id === orderId);
            if (order) {
                showOrderDetailsModal(order);
            }
        }

        // Show order details modal
        function showOrderDetailsModal(order) {
            const itemsHtml = order.items.map(item => `
                <tr>
                    <td>
                        ${item.name}
                        ${item.note ? `<span class="modal-item-note">Note: ${item.note}</span>` : ''}
                    </td>
                    <td>x${item.quantity}</td>
                    <td>฿${item.price}</td>
                    <td>฿${item.price * item.quantity}</td>
                </tr>
            `).join('');

            const modalHtml = `
                <div class="modal-overlay" onclick="closeModal()">
                    <div class="modal-content" onclick="event.stopPropagation()">
                        <div class="modal-header">
                            <h2>Order Details - ${order.id}</h2>
                            <button class="modal-close" onclick="closeModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="order-info-grid">
                                <div class="info-item">
                                    <label>Order ID:</label>
                                    <span>${order.id}</span>
                                </div>
                                <div class="info-item">
                                    <label>Table:</label>
                                    <span>Table ${order.tableNumber}</span>
                                </div>
                                <div class="info-item">
                                    <label>Time:</label>
                                    <span>${order.time}</span>
                                </div>
                                <div class="info-item">
                                    <label>Status:</label>
                                    <span>
                                        <i class="${statusConfig[order.status].icon}" style="margin-right: 8px; color: #6c757d;"></i>
                                        ${statusConfig[order.status].label}
                                    </span>
                                </div>
                            </div>
                            
                            <h3>Order Items</h3>
                            <table class="items-table">
                                <thead>
                                    <tr>
                                        <th>Item & Notes</th>
                                        <th>Quantity</th>
                                        <th>Unit Price</th>
                                        <th>Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${itemsHtml}
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="3"><strong>Total Amount</strong></td>
                                        <td><strong>฿${order.total}</strong></td>
                                    </tr>
                                </tfoot>
                            </table>
                            
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHtml);
        }

        // Close modal
        function closeModal() {
            const modal = document.querySelector('.modal-overlay');
            if (modal) {
                modal.remove();
            }
        }

        // Update statistics (removed ready count)
        function updateStats() {
            const stats = {
                pending: sampleOrders.filter(o => o.status === 'pending').length,
                preparing: sampleOrders.filter(o => o.status === 'preparing').length,
                completed: sampleOrders.filter(o => o.status === 'completed').length
            };

            document.getElementById('pendingCount').textContent = stats.pending;
            document.getElementById('preparingCount').textContent = stats.preparing;
            document.getElementById('completedCount').textContent = stats.completed;
        }

        // Update last updated time
        function updateLastUpdated() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { 
                hour12: false, 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            document.getElementById('lastUpdated').textContent = timeString;
        }

        // Refresh orders
        function refreshOrders() {
            // In real app, this would fetch from server
            updateLastUpdated();
            renderOrders();
            updateStats();
            showNotification('Orders refreshed successfully', 'success');
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check' : type === 'warning' ? 'exclamation-triangle' : 'info'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        // Calculate total items in order
        function getTotalItems(order) {
            return order.items.reduce((total, item) => total + item.quantity, 0);
        }
    </script>
</body>
</html>